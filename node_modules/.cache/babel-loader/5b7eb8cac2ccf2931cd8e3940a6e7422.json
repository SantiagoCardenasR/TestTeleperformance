{"ast":null,"code":"export const initialState = {\n  users: []\n};\n\nfunction reducer(state, action) {\n  switch (action.type) {\n    case 'ADD_USER':\n      var updates = {};\n      var userData = {\n        cc: action.user.cc,\n        name: action.user.name,\n        country: action.user.country\n      };\n      updates['users/USR_' + cc] = userData;\n      reference.update(updates);\n      return { ...state,\n        users: [...state.users, action.user]\n      };\n\n    case 'UPDATE_USER':\n      let newUsers = [...state.users];\n      const index = state.users.findIndex(user => user.cc === action.cc);\n\n      if (index >= 0) {\n        newUsers[index].cc = action.user.cc;\n        newUsers[index].name = action.user.name;\n        newUsers[index].country = action.user.country;\n      }\n\n      return { ...state,\n        users: newUsers\n      };\n\n    case 'DELETE_USER':\n      let newUsersToDelete = [...state.users];\n      const deleteIndex = state.users.findIndex(user => user.cc === action.cc);\n\n      if (deleteIndex >= 0) {\n        newUsersToDelete.splice(deleteIndex, 1);\n      }\n\n      return { ...state,\n        users: newUsersToDelete\n      };\n\n    default:\n      return state;\n  }\n}\n\nexport default reducer;","map":{"version":3,"sources":["D:/XAMPP/htdocs/tptest/src/reducer.js"],"names":["initialState","users","reducer","state","action","type","updates","userData","cc","user","name","country","reference","update","newUsers","index","findIndex","newUsersToDelete","deleteIndex","splice"],"mappings":"AAAA,OAAO,MAAMA,YAAY,GAAG;AACzBC,EAAAA,KAAK,EAAE;AADkB,CAArB;;AAIP,SAASC,OAAT,CAAiBC,KAAjB,EAAwBC,MAAxB,EACA;AAEI,UAAOA,MAAM,CAACC,IAAd;AAEI,SAAK,UAAL;AACI,UAAIC,OAAO,GAAG,EAAd;AACA,UAAIC,QAAQ,GAAG;AACXC,QAAAA,EAAE,EAAEJ,MAAM,CAACK,IAAP,CAAYD,EADL;AAEXE,QAAAA,IAAI,EAAEN,MAAM,CAACK,IAAP,CAAYC,IAFP;AAGXC,QAAAA,OAAO,EAAEP,MAAM,CAACK,IAAP,CAAYE;AAHV,OAAf;AAKAL,MAAAA,OAAO,CAAC,eAAaE,EAAd,CAAP,GAA4BD,QAA5B;AACDK,MAAAA,SAAS,CAACC,MAAV,CAAiBP,OAAjB;AACC,aAAO,EAAC,GAAGH,KAAJ;AAAWF,QAAAA,KAAK,EAAE,CAAC,GAAGE,KAAK,CAACF,KAAV,EAAiBG,MAAM,CAACK,IAAxB;AAAlB,OAAP;;AACJ,SAAK,aAAL;AACI,UAAIK,QAAQ,GAAG,CAAC,GAAGX,KAAK,CAACF,KAAV,CAAf;AACA,YAAMc,KAAK,GAAGZ,KAAK,CAACF,KAAN,CAAYe,SAAZ,CAAuBP,IAAD,IAAUA,IAAI,CAACD,EAAL,KAAYJ,MAAM,CAACI,EAAnD,CAAd;;AACA,UAAGO,KAAK,IAAI,CAAZ,EACA;AACID,QAAAA,QAAQ,CAACC,KAAD,CAAR,CAAgBP,EAAhB,GAAqBJ,MAAM,CAACK,IAAP,CAAYD,EAAjC;AACAM,QAAAA,QAAQ,CAACC,KAAD,CAAR,CAAgBL,IAAhB,GAAuBN,MAAM,CAACK,IAAP,CAAYC,IAAnC;AACAI,QAAAA,QAAQ,CAACC,KAAD,CAAR,CAAgBJ,OAAhB,GAA0BP,MAAM,CAACK,IAAP,CAAYE,OAAtC;AACH;;AACD,aAAO,EAAC,GAAGR,KAAJ;AAAWF,QAAAA,KAAK,EAAEa;AAAlB,OAAP;;AACA,SAAK,aAAL;AACI,UAAIG,gBAAgB,GAAG,CAAC,GAAGd,KAAK,CAACF,KAAV,CAAvB;AACA,YAAMiB,WAAW,GAAGf,KAAK,CAACF,KAAN,CAAYe,SAAZ,CAAuBP,IAAD,IAAUA,IAAI,CAACD,EAAL,KAAYJ,MAAM,CAACI,EAAnD,CAApB;;AACA,UAAGU,WAAW,IAAI,CAAlB,EACA;AACID,QAAAA,gBAAgB,CAACE,MAAjB,CAAwBD,WAAxB,EAAqC,CAArC;AACH;;AACD,aAAO,EAAC,GAAGf,KAAJ;AAAWF,QAAAA,KAAK,EAAEgB;AAAlB,OAAP;;AACR;AACI,aAAOd,KAAP;AA/BR;AAiCH;;AAED,eAAeD,OAAf","sourcesContent":["export const initialState = {\r\n   users: [],\r\n};\r\n\r\nfunction reducer(state, action)\r\n{\r\n\r\n    switch(action.type)\r\n    {\r\n        case 'ADD_USER':\r\n            var updates = {};\r\n            var userData = {\r\n                cc: action.user.cc,\r\n                name: action.user.name,\r\n                country: action.user.country,\r\n            };\r\n            updates['users/USR_'+cc] =  userData;\r\n           reference.update(updates);\r\n            return {...state, users: [...state.users, action.user], };\r\n        case 'UPDATE_USER':\r\n            let newUsers = [...state.users];\r\n            const index = state.users.findIndex((user) => user.cc === action.cc);\r\n            if(index >= 0)\r\n            {\r\n                newUsers[index].cc = action.user.cc;\r\n                newUsers[index].name = action.user.name;\r\n                newUsers[index].country = action.user.country;\r\n            } \r\n            return {...state, users: newUsers};\r\n            case 'DELETE_USER':\r\n                let newUsersToDelete = [...state.users];\r\n                const deleteIndex = state.users.findIndex((user) => user.cc === action.cc);\r\n                if(deleteIndex >= 0)\r\n                {\r\n                    newUsersToDelete.splice(deleteIndex, 1);\r\n                } \r\n                return {...state, users: newUsersToDelete};\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default reducer;"]},"metadata":{},"sourceType":"module"}